Claro\! Aqui est√° o README completo em ingl√™s e formatado em Markdown, com todas as se√ß√µes que discutimos:

-----

# API MVC with Node.js and MongoDB

Welcome to the **API MVC with Node.js and MongoDB** repository\! This project offers a RESTful API for managing users, leveraging the Model-View-Controller (MVC) architectural pattern for robust and scalable code organization.

## üöÄ Project Overview

This API was developed to serve as an efficient backend for applications requiring a user management system. It exposes CRUD (Create, Read, Update, Delete) endpoints for users, facilitating integration with front-ends or other services.

## ‚ú® Technologies Used

  * **Node.js**: Asynchronous, event-driven JavaScript runtime platform.
  * **Express.js**: Fast, minimalist web framework for Node.js, used to build the API.
  * **MongoDB**: Flexible and scalable NoSQL document-oriented database.
  * **Mongoose**: ODM (Object Data Modeling) for MongoDB in Node.js, simplifying database interactions.
  * **`mongoose-sequence`**: Mongoose plugin for generating automatic number sequences (like auto-incrementing IDs).
  * **`body-parser`**: Express.js middleware for parsing incoming request bodies.

## ‚öôÔ∏è Installation and Setup

To get the project up and running on your local machine, follow these steps:

1.  **Clone the repository:**

    ```bash
    git clone https://github.com/fernan-89/api-mvc-node-mongodb/
    cd api-mvc-node-mongodb
    ```

2.  **Install dependencies:**
    Make sure you have [Node.js](https://nodejs.org/en/download/) and [npm](https://www.npmjs.com/get-npm) (Node.js package manager) installed on your machine. Then, run the command to install all project dependencies:

    ```bash
    npm install
    ```

    *Note: The `mongoose`, `express`, `body-parser`, and `mongoose-sequence` packages will be automatically installed via `package.json`.*

3.  **Database Configuration:**
    This project uses MongoDB. Ensure you have a MongoDB instance running. You can run one locally or use a cloud service like MongoDB Atlas.

      * **Create a `.env` file** in the project root, with the following content (replace with your MongoDB URI):
        ```
        MONGODB_URI=mongodb://localhost:27017/yourDatabaseName
        ```
        *If you're using MongoDB Atlas or another cloud service, your `MONGODB_URI` will be different.*

## ‚ñ∂Ô∏è How to Start the Service

After installing dependencies and configuring the database, you can start the API:

1.  Navigate to the project's root folder.
2.  Execute the command:
    ```bash
    node index.js
    ```
    You'll see a message in the console indicating that the API is running, usually on port 3000 (or the port configured in your project).

-----

## üß™ Testing the API with Postman

To make it easy to test the API endpoints, we've provided a Postman collection you can import.

1.  **Install Postman:** If you don't have it yet, download and install the [Postman Desktop App](https://www.postman.com/downloads/).

2.  **Import the Collection:**

      * Open Postman.
      * Click on **"Import"** in the top left corner.
      * Select the **"Link"** option and paste the following collection URL:
        `https://fernanandre-9080.postman.co/workspace/d23e3330-199e-45de-b0f5-4cf1cd3b1377/collection/39879181-1dd0b3fc-dc5f-4473-95bc-a73c268534cf?action=share&source=collection_link&creator=39879181`
      * Click **"Continue"** and then **"Import"**.

3.  **Run Requests:**

      * The **"api-mvc-mongodb"** collection will appear in your Postman sidebar.
      * Expand the collection to see all the endpoints (getallclients, addnewclient, etc.).
      * Ensure your Node.js API is running (`node index.js`).
      * Click on each request and then the **"Send"** button to test the endpoints and view responses. Remember to adjust client IDs or request body data as needed for PUT and DELETE methods.

-----

## üåç API Endpoints

The API provides the following endpoints for managing user data:

-----

### GET Methods

  * **`GET /api/users`**

      * **Description:** Returns a list of all registered users.
      * **Example Response:**
        ```json
        [
            {
                "_id": "651a0b12c6a0b2e3f4g5h6i7",
                "clientId": 1,
                "name": "Jo√£o Silva",
                "email": "joao.silva@example.com",
                "__v": 0
            },
            // ... other users
        ]
        ```

  * **`GET /api/usercount`**

      * **Description:** Returns the total number of registered users in the database.
      * **Example Response:**
        ```json
        {
            "count": 10
        }
        ```

  * **`GET /api/users/:clientId`**

      * **Description:** Retrieves a specific user by their `clientId` (ID automatically generated by `mongoose-sequence`).
      * **Route Parameters:**
          * `:clientId` (required): The unique ID of the user.
      * **Example Response:**
        ```json
        {
            "_id": "651a0b12c6a0b2e3f4g5h6i7",
            "clientId": 1,
            "name": "Jo√£o Silva",
            "email": "joao.silva@example.com",
            "__v": 0
        }
        ```
        *If the user is not found, it will return a 404 error.*

  * **`GET /api/username/:name`**

      * **Description:** Retrieves a user by their username. The search is case-insensitive.
      * **Route Parameters:**
          * `:name` (required): The name of the user to search for.
      * **Example Response:**
        ```json
        {
            "_id": "651a0b12c6a0b2e3f4g5h6i7",
            "clientId": 1,
            "name": "Jo√£o Silva",
            "email": "joao.silva@example.com",
            "__v": 0
        }
        ```
        *If the user is not found, it will return a 404 error.*

-----

### POST Method

  * **`POST /api/users`**
      * **Description:** Creates a new user in the system.
      * **Request Body (JSON):**
        ```json
        {
            "name": "New User",
            "email": "new.user@example.com",
            "password": "aSecurePassword"
        }
        ```
      * **Example Response (201 Created):**
        ```json
        {
            "_id": "651a0b12c6a0b2e3f4g5h6i8",
            "clientId": 2,
            "name": "New User",
            "email": "new.user@example.com",
            "__v": 0
        }
        ```

-----

### PUT Method

  * **`PUT /api/users/:clientId`**
      * **Description:** Updates the data of an existing user, identified by their `clientId`.
      * **Route Parameters:**
          * `:clientId` (required): The unique ID of the user to be updated.
      * **Request Body (JSON):**
          * Provide the fields you want to update. For example:
            ```json
            {
                "email": "new.email@example.com"
            }
            ```
      * **Example Response (200 OK):**
        ```json
        {
            "_id": "651a0b12c6a0b2e3f4g5h6i7",
            "clientId": 1,
            "name": "Jo√£o Silva",
            "email": "new.email@example.com",
            "__v": 0
        }
        ```
        *If the user is not found, it will return a 404 error.*

-----

### DELETE Method

  * **`DELETE /api/users/:clientId`**
      * **Description:** Deletes a user from the system, identified by their `clientId`.
      * **Route Parameters:**
          * `:clientId` (required): The unique ID of the user to be deleted.
      * **Example Response (204 No Content):**
          * On success, no body response is returned.
          * If the user is not found, it will return a 404 error.

-----

